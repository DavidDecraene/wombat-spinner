{"version":3,"file":"wombat-spinner.js","sources":["ng://wombat-spinner/lib/spinner-overlay.component.ts","ng://wombat-spinner/lib/spinner.directive.ts","ng://wombat-spinner/lib/spinner.module.ts"],"sourcesContent":["import { Component, HostBinding, OnInit, Input, TemplateRef, ContentChild } from '@angular/core';\n\n@Component({\n  selector: 'w-spinner-overlay',\n  templateUrl: './spinner-overlay.component.html',\n  styleUrls: ['./spinner-overlay.component.scss']\n})\nexport class SpinnerOverlayComponent implements OnInit {\n\n  @Input()\n  loading = true;\n\n  @HostBinding('class')\n  @Input()\n  spinClass = '';\n\n  @Input()\n  icon = 'fas fa-circle-notch fa-spin fa-5x';\n\n  _bodyTemplate: TemplateRef<any>;\n\n  get bodyTemplate(): TemplateRef<any> {\n    return this._bodyTemplate;\n  }\n\n  set bodyTemplate(tmpl: TemplateRef<any>) {\n    this._bodyTemplate = tmpl;\n  }\n\n  @Input('body')\n  set bodyInput(tmpl: TemplateRef<any>) {\n    if (tmpl) {\n      this.bodyTemplate = tmpl;\n    }\n  }\n\n  @ContentChild(TemplateRef, { static: false })\n  set bodyContent(tmpl: TemplateRef<any>) {\n    if (tmpl) {\n      this.bodyTemplate = tmpl;\n    }\n  }\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Directive, Input, TemplateRef, OnInit, ViewContainerRef, ComponentFactoryResolver } from '@angular/core';\nimport { SpinnerOverlayComponent } from './spinner-overlay.component';\n\nexport interface SpinOptions {\n  spinIcon?: string;\n  spinClass?: string;\n}\n\n@Directive({\n  selector: '[wSpinner]'\n})\nexport class SpinnerDirective implements OnInit {\n  _loading = true;\n  _spClass: string;\n  _spIcon: string;\n  _options: SpinOptions;\n  component: SpinnerOverlayComponent;\n\n  get loading(): boolean {\n    return this._loading;\n  }\n\n\n  @Input('wSpinnerOptions')\n  set options(opts: SpinOptions) {\n    this._options = opts;\n    this.syncOptions();\n  }\n\n  get options(): SpinOptions {\n    return this._options;\n  }\n\n  @Input('wSpinner')\n  set loading(state: boolean) {\n    if (state === undefined) { return; }\n    this._loading = state;\n    if (this.component) { this.component.loading = state; }\n  }\n\n  constructor(private templateRef: TemplateRef<any>,\n    private viewContainerRef: ViewContainerRef,\n    private resolver: ComponentFactoryResolver) {\n  }\n\n  syncOptions() {\n    if (!this.component) { return; }\n    if (!this.options) { return; }\n    if (this.options.spinClass) {\n      this.component.spinClass = this.options.spinClass;\n    }\n    if (this.options.spinIcon) {\n      this.component.icon = this.options.spinIcon;\n    }\n  }\n\n  ngOnInit() {\n    const factory = this.resolver.resolveComponentFactory(SpinnerOverlayComponent);\n    const componentRef = this.viewContainerRef.createComponent(factory);\n    componentRef.instance.loading = this.loading;\n    componentRef.instance.bodyInput = this.templateRef;\n    this.component = componentRef.instance;\n    this.syncOptions();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { SpinnerOverlayComponent } from './spinner-overlay.component';\nimport { SpinnerDirective } from './spinner.directive';\nimport { CommonModule } from '@angular/common';\n\n// CommonModule to enable ngIf\n@NgModule({\n    imports: [\n      CommonModule\n    ],\n    providers: [\n    ],\n    declarations: [\n      SpinnerOverlayComponent, SpinnerDirective\n    ],\n    exports: [\n      SpinnerOverlayComponent, SpinnerDirective\n    ], entryComponents: [\n      SpinnerOverlayComponent\n    ]\n})\nexport class SpinnerModule {\n    constructor() {\n    }\n}\n"],"names":[],"mappings":"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"}